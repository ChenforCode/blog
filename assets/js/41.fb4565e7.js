(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{586:function(s,n,a){"use strict";a.r(n);var e=a(12),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("1.spring的核心功能模块有core模块，data模块，web模块，core模块中主要有beans包，context包，core包。所以在frame模块中建立如下结构\n"),a("img",{attrs:{src:"https://img.hacpai.com/file/2019/10/image-d98c5a12.png",alt:"image.png"}})]),s._v(" "),a("p",[s._v("2.结构设计\n@1：实现core模块，包括core包，context包，beans包\n@2：实现web模块，集成web和webmvc\n@3：添加starter，实现类似于spring boot的启动方式")]),s._v(" "),a("p",[s._v("3.实现启动器，在test模块下建立Applicaition类\n"),a("img",{attrs:{src:"https://img.hacpai.com/file/2019/10/image-9ad3555c.png",alt:"image.png"}}),s._v("\n编写Applicaition类")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('package cn.chenforcode;\n\npublic class Application {\n    public static void main(String[] args) {\n        System.out.println("Hello World!");\n    }\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("4.打包项目，运行")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("gradle build\njava -jar test/build/libs/test-1.0-SNAPSHOT.jar\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("这个时候出现了错误：test/build/libs/test-1.0-SNAPSHOT.jar中没有主清单属性")]),s._v(" "),a("p",[s._v("这是因为没有在打包的时候指定主类，在test模块下的build.gradle下编写相应的配置")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('jar {\n    manifest {\n        attributes "Main-Class": "cn.chenforcode.Application"\n    }\n    from {\n        configurations.compile.collect {\n            it.isDirectory() ? it : zipTree(it)\n        }\n    }\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[s._v("主要含义\nmanifest：指定主类\nfrom：将所有的依赖都递归打包：如果是目录，就递归进入，如果不是目录就打包")]),s._v(" "),a("p",[s._v("5.framework模块打包\n在test模块的gradle文件中添加,compile中添加的是要打包进去的兄弟模块的名称")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("dependencies {\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n    compile(project(':framework'))\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("6.在frame模块的starter包中添加代码")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('package cn.chenforcode.starter;\n\npublic class MiniApplication {\n    public static void run(Class<?> cls, String[] args) {\n        System.out.println("Hello Mini-spring!");\n    }\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("7.在test中调用这个代码")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('package cn.chenforcode;\n\nimport cn.chenforcode.starter.MiniApplication;\n\npublic class Application {\n    public static void main(String[] args) {\n        System.out.println("Hello World!");\n        MiniApplication.run(Application.class, args);\n    }\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[s._v("8.再次打包运行\n"),a("img",{attrs:{src:"https://img.hacpai.com/file/2019/10/image-c55390e9.png",alt:"image.png"}})])])}),[],!1,null,null,null);n.default=t.exports}}]);